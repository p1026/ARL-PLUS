{"remainingRequest":"C:\\Users\\PengYingJie\\Desktop\\ARL\\rontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PengYingJie\\Desktop\\ARL\\rontend\\src\\views\\table\\cron-info.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\PengYingJie\\Desktop\\ARL\\rontend\\src\\views\\table\\cron-info.vue","mtime":1759135052000},{"path":"C:\\Users\\PengYingJie\\Desktop\\ARL\\rontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1759192384647},{"path":"C:\\Users\\PengYingJie\\Desktop\\ARL\\rontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1759192387221},{"path":"C:\\Users\\PengYingJie\\Desktop\\ARL\\rontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1759192384647},{"path":"C:\\Users\\PengYingJie\\Desktop\\ARL\\rontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1759192386775}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgZmV0Y2hQdiwKICB1cGRhdGVBcnRpY2xlLAogIHN0YXJ0QXJ0aWNsZSwKICBzdG9wQXJ0aWNsZSwKICBwb2NTeW5jLCBwb2xpY3lQbGFuLCBzY2hlZHVsZWNyZWF0ZSwgc2NoZWR1bGVMaXN0LCBzY2hlZHVsZURlbGVjdCwgc2NoZWR1bGVSZWNvdmVyLCBzY2hlZHVsZVN0b3AKfSBmcm9tICdAL2FwaS9hcnRpY2xlJwppbXBvcnQgd2F2ZXMgZnJvbSAnQC9kaXJlY3RpdmUvd2F2ZXMnIC8vIHdhdmVzIGRpcmVjdGl2ZQppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzJwppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbicKY29uc3QgY2FsZW5kYXJUeXBlT3B0aW9ucyA9IFsKICB7IGtleTogJ0NOJywgZGlzcGxheV9uYW1lOiAnQ2hpbmEnIH0sCiAgeyBrZXk6ICdVUycsIGRpc3BsYXlfbmFtZTogJ1VTQScgfSwKICB7IGtleTogJ0pQJywgZGlzcGxheV9uYW1lOiAnSmFwYW4nIH0sCiAgeyBrZXk6ICdFVScsIGRpc3BsYXlfbmFtZTogJ0V1cm96b25lJyB9Cl0KCi8vIGFyciB0byBvYmosIHN1Y2ggYXMgeyBDTiA6ICJDaGluYSIsIFVTIDogIlVTQSIgfQpjb25zdCBjYWxlbmRhclR5cGVLZXlWYWx1ZSA9IGNhbGVuZGFyVHlwZU9wdGlvbnMucmVkdWNlKChhY2MsIGN1cikgPT4gewogIGFjY1tjdXIua2V5XSA9IGN1ci5kaXNwbGF5X25hbWUKICByZXR1cm4gYWNjCn0sIHt9KQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb21wbGV4VGFibGUnLAogIGNvbXBvbmVudHM6IHsgUGFnaW5hdGlvbiB9LAogIGRpcmVjdGl2ZXM6IHsgd2F2ZXMgfSwKICBmaWx0ZXJzOiB7CiAgICBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IHsKICAgICAgICBkb25lOiAnc3VjY2VzcycsCiAgICAgICAgZXJyb3I6ICdkYW5nZXInCiAgICAgIH0KICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdCiAgICB9LAogICAgdHlwZUZpbHRlcih0eXBlKSB7CiAgICAgIHJldHVybiBjYWxlbmRhclR5cGVLZXlWYWx1ZVt0eXBlXQogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YXNrdGFnT3B0aW9uOiBbeyBsYWJlbDogJ+i1hOS6p+WPkeeOsOS7u+WKoScsIGtleTogJ3Rhc2snIH0sIHsgbGFiZWw6ICfpo47pmanlt6HoiKrku7vliqEnLCBrZXk6ICdyaXNrX2NydWlzaW5nJyB9XSwKICAgICAgcnVsZU9wdGlvbjogW10sCiAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICBzaG9ydGN1dHM6IFt7CiAgICAgICAgICB0ZXh0OiAn5LuK5aSpJywKICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIG5ldyBEYXRlKCkpCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogJ+aYqOWkqScsCiAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKQogICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0KQogICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBkYXRlKQogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6ICfkuIDlkajliY0nLAogICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCkKICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpCiAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIGRhdGUpCiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSwKICAgICAgdmFsdWUxOiAnJywKICAgICAgdmFsdWUyOiAnJywKICAgICAgdmFsdWUzOiAnJywKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHRhYmxlS2V5OiAwLAogICAgICBsaXN0OiBudWxsLAogICAgICBzZWxzOiAnJywgLy8g5b2T5YmN6YCJ5qGG6YCJ5Lit55qE5YC8CiAgICAgIHRvdGFsOiAwLAogICAgICBsaXN0UXVlcnk6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHNpemU6IDEwLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHNjaGVkdWxlX3R5cGU6ICcnCiAgICAgIH0sCiAgICAgIHNvcnRPcHRpb25zOiBbeyBsYWJlbDogJ+WNh+W6jycsIGtleTogJ3RhcmdldCcgfSwgeyBsYWJlbDogJ+mZjeW6jycsIGtleTogJy10YXJnZXQnIH1dLAogICAgICBzY2hlZHVsZU9wdGlvbnM6IFt7IGxhYmVsOiAn5a6a5pe25Lu75YqhJywga2V5OiAnZnV0dXJlX3NjYW4nIH0sIHsgbGFiZWw6ICflkajmnJ/ku7vliqEnLCBrZXk6ICdyZWN1cnJlbnRfc2NhbicgfV0sCiAgICAgIHN0YXR1c09wdGlvbnM6IFsndGVzdCcsICdiaWcnXSwKICAgICAgc3JjcHRPcHRpb25zOiBbJ3Rlc3QnLCAndG9wMTAwJywgJ3RvcDEwMDAnLCAnYWxsJ10sCiAgICAgIGxldmVscHRPcHRpb25zOiBbJ3Rlc3QnLCAndG9wMTAwJywgJ3RvcDEwMDAnLCAnYWxsJ10sCiAgICAgIHNob3dSZXZpZXdlcjogZmFsc2UsCiAgICAgIHRlbXA6IHsKICAgICAgICBwb2xpY3lfaWQ6ICcnLAogICAgICAgIHNjaGVkdWxlX3R5cGU6ICcnLAogICAgICAgIHN0YXJ0X2RhdGU6ICcnLAogICAgICAgIHRhc2tfdGFnOiAnJywKICAgICAgICB0YXJnZXQ6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGNyb246ICcnCiAgICAgIH0sCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgZGlhbG9nU3RhdHVzOiAnJywKICAgICAgdGV4dE1hcDogewogICAgICAgIHVwZGF0ZTogJ0VkaXQnLAogICAgICAgIGNyZWF0ZTogJ0NyZWF0ZScKICAgICAgfSwKICAgICAgZGlhbG9nUHZWaXNpYmxlOiBmYWxzZSwKICAgICAgcHZEYXRhOiBbXSwKICAgICAgZG93bmxvYWRMb2FkaW5nOiBmYWxzZQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2Nyb24ocm93KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3J1bGUvcnVsZS1pbmZvJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgX2lkOiByb3cucG9saWN5X2lkCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGFkZHBsYW50YXNrKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICBjb25zdCBkYXRlT2JqID0gbmV3IERhdGUodGhpcy50ZW1wLnN0YXJ0X2RhdGUpCiAgICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlT2JqLnRvTG9jYWxlU3RyaW5nKCd6aC1DTicsIHsgaG91cjEyOiBmYWxzZSB9KS5yZXBsYWNlKC9cLy9nLCAnLScpCiAgICAgIGNvbnN0IHJlc3VsdCA9IHsKICAgICAgICBuYW1lOiB0aGlzLnRlbXAubmFtZSwKICAgICAgICBwb2xpY3lfaWQ6IHRoaXMudGVtcC5wb2xpY3lfaWQsCiAgICAgICAgc2NoZWR1bGVfdHlwZTogdGhpcy50ZW1wLnNjaGVkdWxlX3R5cGUsCiAgICAgICAgdGFyZ2V0OiB0aGlzLnRlbXAudGFyZ2V0LAogICAgICAgIHRhc2tfdGFnOiB0aGlzLnRlbXAudGFza190YWcKICAgICAgfQogICAgICBpZiAodGhpcy50ZW1wLnNjaGVkdWxlX3R5cGUgPT09ICdmdXR1cmVfc2NhbicpIHsKICAgICAgICByZXN1bHQuc3RhcnRfZGF0ZSA9IGZvcm1hdHRlZERhdGUKICAgICAgfSBlbHNlIGlmICh0aGlzLnRlbXAuc2NoZWR1bGVfdHlwZSA9PT0gJ3JlY3VycmVudF9zY2FuJykgewogICAgICAgIHJlc3VsdC5jcm9uID0gdGhpcy50ZW1wLmNyb24KICAgICAgfQogICAgICBpZiAoIXRoaXMudGVtcC5uYW1lKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn5ZCN56ew5LiN6IO95Li656m6JywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgc2NoZWR1bGVjcmVhdGUocmVzdWx0KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfliJvlu7rmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAvLyBIYW5kbGUgdGhlIGVycm9yCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcikKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICflpLHotKUnLAogICAgICAgICAgbWVzc2FnZTogZXJyb3IsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIHNjaGVkdWxlY3JlYXRlKCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VxdWVuY2VzCiAgICAgIHRoaXMudGVtcC5zY2hlZHVsZV90eXBlID0gJycKICAgICAgdGhpcy50ZW1wLm5hbWUgPSAnJwogICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICdjcmVhdGUnCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKICAgICAgdGhpcy5zaXplID0gMTAwMAogICAgICB0aGlzLm9yZGVyID0gJy11cGRhdGVfZGF0ZScKICAgICAgY29uc3QgbmV3bGlzdFEgPSB7CiAgICAgICAgc2l6ZTogMTAwMCwKICAgICAgICBvcmRlcjogJy11cGRhdGVfZGF0ZScKICAgICAgfQogICAgICBwb2xpY3lQbGFuKG5ld2xpc3RRKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnJ1bGVPcHRpb24gPSByZXNwb25zZS5pdGVtcwoKICAgICAgICAvLyBKdXN0IHRvIHNpbXVsYXRlIHRoZSB0aW1lIG9mIHRoZSByZXF1ZXN0CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICB9LCAxICogMTAwMCkKICAgICAgfSkKICAgIH0sCiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICBzY2hlZHVsZUxpc3QodGhpcy5saXN0UXVlcnkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubGlzdCA9IHJlc3BvbnNlLml0ZW1zCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsCgogICAgICAgIC8vIEp1c3QgdG8gc2ltdWxhdGUgdGhlIHRpbWUgb2YgdGhlIHJlcXVlc3QKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgIH0sIDEgKiAxMDAwKQogICAgICB9KQogICAgfSwKICAgIGluZGV4TWV0aG9kKGluZGV4KSB7CiAgICAgIHJldHVybiBpbmRleCArIDEKICAgIH0sCiAgICBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgaGFuZGxlTW9kaWZ5U3RhdHVzX3N0b3Aocm93LCBzdGF0dXMpIHsKICAgICAgc3RvcEFydGljbGUocm93KQogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSkKICAgICAgcm93LnN0YXR1cyA9IHN0YXR1cwogICAgfSwKICAgIGhhbmRsZU1vZGlmeVN0YXR1c19zdGFydChyb3csIHN0YXR1cykgewogICAgICBzdGFydEFydGljbGUocm93KQogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgfSkKICAgICAgcm93LnN0YXR1cyA9IHN0YXR1cwogICAgfSwKICAgIHNvcnRDaGFuZ2UoZGF0YSkgewogICAgICBjb25zdCB7IHByb3AsIG9yZGVyIH0gPSBkYXRhCiAgICAgIGlmIChwcm9wID09PSAnaWQnKSB7CiAgICAgICAgdGhpcy5zb3J0QnlJRChvcmRlcikKICAgICAgfQogICAgfSwKICAgIHNvcnRCeUlEKG9yZGVyKSB7CiAgICAgIGlmIChvcmRlciA9PT0gJ2FzY2VuZGluZycpIHsKICAgICAgICB0aGlzLmxpc3RRdWVyeS5zb3J0ID0gJytpZCcKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxpc3RRdWVyeS5zb3J0ID0gJy1pZCcKICAgICAgfQogICAgICB0aGlzLmhhbmRsZUZpbHRlcigpCiAgICB9LAogICAgaGFuZGxlQ3JlYXRlKCkgewogICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICdjcmVhdGUnCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy50ZW1wID0gT2JqZWN0LmFzc2lnbih7fSwgcm93KSAvLyBjb3B5IG9iagogICAgICB0aGlzLmRpYWxvZ1N0YXR1cyA9ICd1cGRhdGUnCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzWydkYXRhRm9ybSddLmNsZWFyVmFsaWRhdGUoKQogICAgICB9KQogICAgfSwKICAgIHVwZGF0ZURhdGEoKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2RhdGFGb3JtJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjb25zdCB0ZW1wRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMudGVtcCkKICAgICAgICAgIHVwZGF0ZUFydGljbGUodGVtcERhdGEudWlkLCB0ZW1wRGF0YSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0LmZpbmRJbmRleCh2ID0+IHYuaWQgPT09IHRoaXMudGVtcC5pZCkKICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZShpbmRleCwgMSwgdGhpcy50ZW1wKQogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+abtOaWsOaIkOWKnycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VscykgewogICAgICB0aGlzLnNlbHMgPSBzZWxzCiAgICB9LAogICAgLy8g5om56YeP5Yig6Zmk5omn6KGM5pON5L2cCiAgICBmaWd1cGxvYWQoKSB7CiAgICAgIHBvY1N5bmMoKQogICAgICB0aGlzLiRub3RpZnkoewogICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICBtZXNzYWdlOiAn5pu05paw5oiQ5YqfJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgfSkKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCkKICAgICAgfSwgMTAwMCkKICAgIH0sCiAgICBzY2hlZHVsZWJhdGNoRGVsZWN0KCkgewogICAgICAvLyDliKDpmaTliY3nmoTmj5DnpLoKICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk6K6w5b2V5ZCXPycsICfmj5DnpLonLCB7CiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICBfaWQ6IHRoaXMuc2Vscy5tYXAoKGl0ZW0pID0+IGl0ZW0uX2lkKQogICAgICAgIH0KICAgICAgICBzY2hlZHVsZURlbGVjdChkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgLy8g5aSE55CG6K+35rGC5byC5bi4CiAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ+Wksei0pScsCiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgc2NoZWR1bGViYXRjaERlbGVjdDEocm93KSB7CiAgICAgIC8vIOWIoOmZpOWJjeeahOaPkOekugogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTorrDlvZXlkJc/JywgJ+aPkOekuicsIHsKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgIF9pZDogW3Jvdy5faWRdCiAgICAgICAgfQogICAgICAgIHNjaGVkdWxlRGVsZWN0KGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAvLyDlpITnkIbor7fmsYLlvILluLgKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5aSx6LSlJywKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBzY2hlZHVsZWJhdGNoc3RvcCgpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBfaWQ6IHRoaXMuc2Vscy5tYXAoKGl0ZW0pID0+IGl0ZW0uX2lkKQogICAgICB9CiAgICAgIHNjaGVkdWxlU3RvcChkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICflgZzmraLmiJDlip8nLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAvLyDlpITnkIbor7fmsYLlvILluLgKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICflpLHotKUnLAogICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgc2NoZWR1bGVyZWNvdmVyKHJvdykgewogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIF9pZDogW3Jvdy5faWRdCiAgICAgIH0KICAgICAgc2NoZWR1bGVSZWNvdmVyKGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIC8vIOWmguaenOi/lOWbnueahGNvZGXkuI3mmK8yMDDvvIzliJnmmL7npLrplJnor6/kv6Hmga8KICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgICAgbWVzc2FnZTogJ+aBouWkjeaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIC8vIOWkhOeQhuivt+axguW8guW4uAogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+Wksei0pScsCiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0sCiAgICBzY2hlZHVsZWJhdGNoc3RvcDEocm93KSB7CiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgX2lkOiBbcm93Ll9pZF0KICAgICAgfQogICAgICBzY2hlZHVsZVN0b3AoZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5YGc5q2i5oiQ5YqfJywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgLy8g5aSE55CG6K+35rGC5byC5bi4CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAn5aSx6LSlJywKICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUZldGNoUHYocHYpIHsKICAgICAgZmV0Y2hQdihwdikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5wdkRhdGEgPSByZXNwb25zZS5kYXRhLnB2RGF0YQogICAgICAgIHRoaXMuZGlhbG9nUHZWaXNpYmxlID0gdHJ1ZQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZURvd25sb2FkKCkgewogICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IHRydWUKICAgICAgaW1wb3J0KCdAL3ZlbmRvci9FeHBvcnQyRXhjZWwnKS50aGVuKGV4Y2VsID0+IHsKICAgICAgICBjb25zdCB0SGVhZGVyID0gWyfku7vliqEnLCAn55uu5qCHJywgJ+eKtuaAgScsICflvIDlp4vml7bpl7QnLCAn57uT5p2f5pe26Ze0J10KICAgICAgICBjb25zdCBmaWx0ZXJWYWwgPSBbJ25hbWUnLCAndGFyZ2V0JywgJ3N0YXR1cycsICdzdGFydF90aW1lJywgJ2VuZF90aW1lJ10KICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5mb3JtYXRKc29uKGZpbHRlclZhbCkKICAgICAgICBleGNlbC5leHBvcnRfanNvbl90b19leGNlbCh7CiAgICAgICAgICBoZWFkZXI6IHRIZWFkZXIsCiAgICAgICAgICBkYXRhLAogICAgICAgICAgZmlsZW5hbWU6ICfku7vliqHooagnCiAgICAgICAgfSkKICAgICAgICB0aGlzLmRvd25sb2FkTG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgZm9ybWF0SnNvbihmaWx0ZXJWYWwpIHsKICAgICAgcmV0dXJuIHRoaXMubGlzdC5tYXAodiA9PiBmaWx0ZXJWYWwubWFwKGogPT4gewogICAgICAgIGlmIChqID09PSAndGltZXN0YW1wJykgewogICAgICAgICAgcmV0dXJuIHBhcnNlVGltZSh2W2pdKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdltqXQogICAgICAgIH0KICAgICAgfSkpCiAgICB9LAogICAgZ2V0U29ydENsYXNzOiBmdW5jdGlvbihrZXkpIHsKICAgICAgY29uc3Qgb3JkZXIgPSB0aGlzLmxpc3RRdWVyeS5vcmRlcgogICAgICByZXR1cm4gb3JkZXIgPT09IGArJHtrZXl9YCA/ICdhc2NlbmRpbmcnIDogJ2Rlc2NlbmRpbmcnCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["cron-info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cron-info.vue","sourceRoot":"src/views/table","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-input\n        v-model=\"listQuery.name\"\n        placeholder=\"名称\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"handleFilter\"\n      />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n      <el-input\n        v-model=\"listQuery.target\"\n        placeholder=\"目标\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"handleFilter\"\n      />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n      <el-input\n        v-model=\"listQuery.schedule_type\"\n        placeholder=\"计划类型\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"handleFilter\"\n      />\n      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n      <el-button v-waves class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">\n        {{ $t('table.search') }}\n      </el-button>\n      <br><br>\n      <el-button type=\"success\" class=\"filter-item\" @click=\"schedulecreate\">新建计划</el-button>\n      <el-button type=\"danger\" class=\"filter-item\" @click=\"schedulebatchDelect\">批量删除</el-button>\n      <el-button type=\"warning\" class=\"filter-item\" @click=\"schedulebatchstop\">批量停止</el-button>\n    </div>\n\n    <el-table\n      :key=\"tableKey\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%;\"\n      @selection-change=\"handleSelectionChange\"\n      @sort-change=\"sortChange\"\n    >\n      <el-table-column type=\"selection\" width=\"40\" /> <!-- 添加复选框列 -->\n      <el-table-column type=\"index\" :index=\"indexMethod\" align=\"center\" width=\"60\" label=\"序号\" />\n      <el-table-column label=\"任务名\" min-width=\"89px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"目标\" width=\"200px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.target }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column :label=\"$t('table.type')\" width=\"150px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>\n            {{ row.task_tag === 'task' ? '资产任务' : (row.task_tag === 'risk_cruising' ? '风险任务' : '') }}\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"状态\" width=\"150px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.status }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"策略\" width=\"200px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span class=\"link-type\" @click=\"tocron(row)\">{{ row.policy_name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"时间配置\" width=\"150px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.start_date }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"上次运行\" width=\"170px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.last_run_date }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"下次运行\" width=\"170px\" align=\"center\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.next_run_date }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        :label=\"$t('table.actions')\"\n        align=\"center\"\n        width=\"250\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"{row}\">\n          <el-button size=\"mini\" type=\"danger\" @click=\"schedulebatchDelect1(row)\">\n            {{ $t('table.delete') }}\n          </el-button>\n          <el-button size=\"mini\" type=\"warning\" :disabled=\"row.status === 'stop'\" @click=\"schedulebatchstop1(row)\">\n            {{ $t('table.draft') }}\n          </el-button>\n          <el-button size=\"mini\" type=\"success\" :disabled=\"row.status === 'scheduled'\" @click=\"schedulerecover(row)\">\n            恢复\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"listQuery.page\"\n      :limit.sync=\"listQuery.size\"\n      @pagination=\"getList\"\n    />\n    <el-dialog title=\"新建计划任务\" :visible.sync=\"dialogVisible\">\n      <el-form\n        ref=\"dataForm\"\n        :rules=\"rules\"\n        :model=\"temp\"\n        label-position=\"left\"\n        label-width=\"70px\"\n        style=\"width: 400px; margin-left:50px;\"\n      >\n        <el-form-item label=\"名称\" required>\n          <el-input v-model=\"temp.name\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('table.target')\" required>\n          <el-input\n            v-model=\"temp.target\"\n            :autosize=\"{ minRows: 2, maxRows: 4}\"\n            type=\"textarea\"\n          />\n        </el-form-item>\n        <el-form-item label=\"类型\" required>\n          <el-select v-model=\"temp.schedule_type\" class=\"filter-item\">\n            <el-option v-for=\"item in scheduleOptions\" :key=\"item.key\" :label=\"item.label\" :value=\"item.key\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"策略\" required>\n          <el-select v-model=\"temp.policy_id\" class=\"filter-item\">\n            <el-option v-for=\"item in ruleOption\" :key=\"item._id\" :label=\"item.name\" :value=\"item._id\" />\n          </el-select>\n        </el-form-item>\n        <div v-if=\"temp.schedule_type === 'future_scan'\">\n          <el-form-item label=\"时间\" required>\n            <el-date-picker\n              v-model=\"temp.start_date\"\n              type=\"datetime\"\n              placeholder=\"选择日期时间\"\n              align=\"right\"\n              :picker-options=\"pickerOptions\"\n            />\n          </el-form-item>\n        </div>\n        <div v-if=\"temp.schedule_type === 'recurrent_scan'\">\n          <el-form-item label=\"cron\" required>\n            <el-input v-model=\"temp.cron\" />\n          </el-form-item>\n        </div>\n        <el-form-item label=\"类别\" required>\n          <el-select v-model=\"temp.task_tag\" class=\"filter-item\">\n            <el-option v-for=\"item in tasktagOption\" :key=\"item.key\" :label=\"item.label\" :value=\"item.key\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addplantask\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  fetchPv,\n  updateArticle,\n  startArticle,\n  stopArticle,\n  pocSync, policyPlan, schedulecreate, scheduleList, scheduleDelect, scheduleRecover, scheduleStop\n} from '@/api/article'\nimport waves from '@/directive/waves' // waves directive\nimport { parseTime } from '@/utils'\nimport Pagination from '@/components/Pagination'\nconst calendarTypeOptions = [\n  { key: 'CN', display_name: 'China' },\n  { key: 'US', display_name: 'USA' },\n  { key: 'JP', display_name: 'Japan' },\n  { key: 'EU', display_name: 'Eurozone' }\n]\n\n// arr to obj, such as { CN : \"China\", US : \"USA\" }\nconst calendarTypeKeyValue = calendarTypeOptions.reduce((acc, cur) => {\n  acc[cur.key] = cur.display_name\n  return acc\n}, {})\n\nexport default {\n  name: 'ComplexTable',\n  components: { Pagination },\n  directives: { waves },\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        done: 'success',\n        error: 'danger'\n      }\n      return statusMap[status]\n    },\n    typeFilter(type) {\n      return calendarTypeKeyValue[type]\n    }\n  },\n\n  data() {\n    return {\n      tasktagOption: [{ label: '资产发现任务', key: 'task' }, { label: '风险巡航任务', key: 'risk_cruising' }],\n      ruleOption: [],\n      pickerOptions: {\n        shortcuts: [{\n          text: '今天',\n          onClick(picker) {\n            picker.$emit('pick', new Date())\n          }\n        }, {\n          text: '昨天',\n          onClick(picker) {\n            const date = new Date()\n            date.setTime(date.getTime() - 3600 * 1000 * 24)\n            picker.$emit('pick', date)\n          }\n        }, {\n          text: '一周前',\n          onClick(picker) {\n            const date = new Date()\n            date.setTime(date.getTime() - 3600 * 1000 * 24 * 7)\n            picker.$emit('pick', date)\n          }\n        }]\n      },\n      value1: '',\n      value2: '',\n      value3: '',\n      dialogVisible: false,\n      tableKey: 0,\n      list: null,\n      sels: '', // 当前选框选中的值\n      total: 0,\n      listQuery: {\n        page: 1,\n        size: 10,\n        name: '',\n        schedule_type: ''\n      },\n      sortOptions: [{ label: '升序', key: 'target' }, { label: '降序', key: '-target' }],\n      scheduleOptions: [{ label: '定时任务', key: 'future_scan' }, { label: '周期任务', key: 'recurrent_scan' }],\n      statusOptions: ['test', 'big'],\n      srcptOptions: ['test', 'top100', 'top1000', 'all'],\n      levelptOptions: ['test', 'top100', 'top1000', 'all'],\n      showReviewer: false,\n      temp: {\n        policy_id: '',\n        schedule_type: '',\n        start_date: '',\n        task_tag: '',\n        target: '',\n        name: '',\n        cron: ''\n      },\n      dialogFormVisible: false,\n      dialogStatus: '',\n      textMap: {\n        update: 'Edit',\n        create: 'Create'\n      },\n      dialogPvVisible: false,\n      pvData: [],\n      downloadLoading: false\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    tocron(row) {\n      this.$router.push({\n        path: '/rule/rule-info',\n        query: {\n          _id: row.policy_id\n        }\n      })\n    },\n    addplantask() {\n      this.dialogVisible = false\n      const dateObj = new Date(this.temp.start_date)\n      const formattedDate = dateObj.toLocaleString('zh-CN', { hour12: false }).replace(/\\//g, '-')\n      const result = {\n        name: this.temp.name,\n        policy_id: this.temp.policy_id,\n        schedule_type: this.temp.schedule_type,\n        target: this.temp.target,\n        task_tag: this.temp.task_tag\n      }\n      if (this.temp.schedule_type === 'future_scan') {\n        result.start_date = formattedDate\n      } else if (this.temp.schedule_type === 'recurrent_scan') {\n        result.cron = this.temp.cron\n      }\n      if (!this.temp.name) {\n        this.$message({\n          message: '名称不能为空',\n          type: 'warning'\n        })\n        return\n      }\n      schedulecreate(result).then(response => {\n        this.dialogFormVisible = false\n        if (response.code === 200) {\n          this.$notify({\n            title: '成功',\n            message: '创建成功',\n            type: 'success',\n            duration: 2000\n          })\n          this.getList()\n        }\n      }).catch(error => {\n        // Handle the error\n        console.error(error)\n        this.$notify({\n          title: '失败',\n          message: error,\n          type: 'error',\n          duration: 2000\n        })\n      })\n    },\n    schedulecreate() {\n      // eslint-disable-next-line no-sequences\n      this.temp.schedule_type = ''\n      this.temp.name = ''\n      this.dialogStatus = 'create'\n      this.dialogVisible = true\n      this.size = 1000\n      this.order = '-update_date'\n      const newlistQ = {\n        size: 1000,\n        order: '-update_date'\n      }\n      policyPlan(newlistQ).then(response => {\n        this.ruleOption = response.items\n\n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1 * 1000)\n      })\n    },\n    getList() {\n      this.listLoading = true\n      scheduleList(this.listQuery).then(response => {\n        this.list = response.items\n        this.total = response.total\n\n        // Just to simulate the time of the request\n        setTimeout(() => {\n          this.listLoading = false\n        }, 1 * 1000)\n      })\n    },\n    indexMethod(index) {\n      return index + 1\n    },\n    handleFilter() {\n      this.getList()\n    },\n    handleModifyStatus_stop(row, status) {\n      stopArticle(row)\n      this.$message({\n        message: '操作成功',\n        type: 'success'\n      })\n      row.status = status\n    },\n    handleModifyStatus_start(row, status) {\n      startArticle(row)\n      this.$message({\n        message: '操作成功',\n        type: 'success'\n      })\n      row.status = status\n    },\n    sortChange(data) {\n      const { prop, order } = data\n      if (prop === 'id') {\n        this.sortByID(order)\n      }\n    },\n    sortByID(order) {\n      if (order === 'ascending') {\n        this.listQuery.sort = '+id'\n      } else {\n        this.listQuery.sort = '-id'\n      }\n      this.handleFilter()\n    },\n    handleCreate() {\n      this.dialogStatus = 'create'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    handleUpdate(row) {\n      this.temp = Object.assign({}, row) // copy obj\n      this.dialogStatus = 'update'\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].clearValidate()\n      })\n    },\n    updateData() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          const tempData = Object.assign({}, this.temp)\n          updateArticle(tempData.uid, tempData).then(() => {\n            const index = this.list.findIndex(v => v.id === this.temp.id)\n            this.list.splice(index, 1, this.temp)\n            this.dialogFormVisible = false\n            this.$notify({\n              title: '成功',\n              message: '更新成功',\n              type: 'success',\n              duration: 2000\n            })\n          })\n        }\n      })\n    },\n    handleSelectionChange(sels) {\n      this.sels = sels\n    },\n    // 批量删除执行操作\n    figupload() {\n      pocSync()\n      this.$notify({\n        title: '成功',\n        message: '更新成功',\n        type: 'success',\n        duration: 2000\n      })\n      setTimeout(() => {\n        location.reload()\n      }, 1000)\n    },\n    schedulebatchDelect() {\n      // 删除前的提示\n      this.$confirm('确认删除记录吗?', '提示', {\n        type: 'warning'\n      }).then(() => {\n        const data = {\n          _id: this.sels.map((item) => item._id)\n        }\n        scheduleDelect(data).then(response => {\n          if (response.code === 200) {\n            this.$notify({\n              title: '成功',\n              message: '删除成功',\n              type: 'success',\n              duration: 2000\n            })\n            this.getList()\n          }\n        }).catch(error => {\n          // 处理请求异常\n          this.$notify({\n            title: '失败',\n            message: error.message,\n            type: 'error',\n            duration: 2000\n          })\n        })\n      })\n    },\n    schedulebatchDelect1(row) {\n      // 删除前的提示\n      this.$confirm('确认删除记录吗?', '提示', {\n        type: 'warning'\n      }).then(() => {\n        const data = {\n          _id: [row._id]\n        }\n        scheduleDelect(data).then(response => {\n          if (response.code === 200) {\n            this.$notify({\n              title: '成功',\n              message: '删除成功',\n              type: 'success',\n              duration: 2000\n            })\n            this.getList()\n          }\n        }).catch(error => {\n          // 处理请求异常\n          this.$notify({\n            title: '失败',\n            message: error.message,\n            type: 'error',\n            duration: 2000\n          })\n        })\n      })\n    },\n    schedulebatchstop() {\n      const data = {\n        _id: this.sels.map((item) => item._id)\n      }\n      scheduleStop(data).then(response => {\n        if (response.code === 200) {\n          this.$notify({\n            title: '成功',\n            message: '停止成功',\n            type: 'success',\n            duration: 2000\n          })\n          this.getList()\n        }\n      }).catch(error => {\n        // 处理请求异常\n        this.$notify({\n          title: '失败',\n          message: error.message,\n          type: 'error',\n          duration: 2000\n        })\n      })\n    },\n    schedulerecover(row) {\n      const data = {\n        _id: [row._id]\n      }\n      scheduleRecover(data).then(response => {\n        if (response.code === 200) {\n          // 如果返回的code不是200，则显示错误信息\n          this.$notify({\n            title: '成功',\n            message: '恢复成功',\n            type: 'success',\n            duration: 2000\n          })\n          this.getList()\n        }\n      }).catch(error => {\n        // 处理请求异常\n        this.$notify({\n          title: '失败',\n          message: error.message,\n          type: 'error',\n          duration: 2000\n        })\n      })\n    },\n    schedulebatchstop1(row) {\n      const data = {\n        _id: [row._id]\n      }\n      scheduleStop(data).then(response => {\n        if (response.code === 200) {\n          this.$notify({\n            title: '成功',\n            message: '停止成功',\n            type: 'success',\n            duration: 2000\n          })\n          this.getList()\n        }\n      }).catch(error => {\n        // 处理请求异常\n        this.$notify({\n          title: '失败',\n          message: error.message,\n          type: 'error',\n          duration: 2000\n        })\n      })\n    },\n    handleFetchPv(pv) {\n      fetchPv(pv).then(response => {\n        this.pvData = response.data.pvData\n        this.dialogPvVisible = true\n      })\n    },\n    handleDownload() {\n      this.downloadLoading = true\n      import('@/vendor/Export2Excel').then(excel => {\n        const tHeader = ['任务', '目标', '状态', '开始时间', '结束时间']\n        const filterVal = ['name', 'target', 'status', 'start_time', 'end_time']\n        const data = this.formatJson(filterVal)\n        excel.export_json_to_excel({\n          header: tHeader,\n          data,\n          filename: '任务表'\n        })\n        this.downloadLoading = false\n      })\n    },\n    formatJson(filterVal) {\n      return this.list.map(v => filterVal.map(j => {\n        if (j === 'timestamp') {\n          return parseTime(v[j])\n        } else {\n          return v[j]\n        }\n      }))\n    },\n    getSortClass: function(key) {\n      const order = this.listQuery.order\n      return order === `+${key}` ? 'ascending' : 'descending'\n    }\n  }\n}\n</script>\n"]}]}